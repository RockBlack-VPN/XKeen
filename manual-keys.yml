listeners:
  - name: tproxy
    type: tproxy
    port: 1181

# --- –û–ë–©–ò–ï –ù–ê–°–¢–†–û–ô–ö–ò –Ø–î–†–ê ---
mixed-port: 1080
tcp-concurrent: true
allow-lan: true
mode: rule
log-level: silent
ipv6: false
external-controller: 0.0.0.0:9090
external-ui: ./zash
external-ui-url: "https://github.com/Zephyruso/zashboard/releases/latest/download/dist-cdn-fonts.zip"
geodata-mode: true
profile:
  store-selected: true
find-process-mode: "off"

# --- –ù–ê–°–¢–†–û–ô–ö–ò –°–ù–ò–§–§–ï–†–ê ---
sniffer:
  enable: true
  force-dns-mapping: true
  sniff:
    HTTP:
      ports: [80]
      override-destination: true
    TLS:
      ports: [443]
    QUIC:
      ports: [443]

# --- –°–ü–ò–°–û–ö –ü–†–û–ö–°–ò-–°–ï–†–í–ï–†–û–í (–ö–õ–Æ–ß–ò) ---
proxies:
  # –ö–ª—é—á –¥–ª—è –§–∏–Ω–ª—è–Ω–¥–∏–∏
  - name: 'üá´üáÆ Finland #1'
    type: vless
    server: fi-proxy.example.com
    port: 443
    uuid: a1b2c3d4-e5f6-7890-abcd-ef1234567890
    udp: true
    tls: true
    flow: xtls-rprx-vision
    servername: fi-proxy.example.com  <----- –ó–î–ï–°–¨ –£–ö–ê–ó–ê–¢–¨ SNI (–°–ê–ô–¢ –ü–û–î –ö–û–¢–û–†–´–ô –ò–î–Å–¢ –ú–ê–°–ö–ò–†–û–í–ö–ê, –°–û–ì–õ–ê–°–ù–û –ù–ê–°–¢–†–û–ô–ö–ê–ú –í 3X-UI OR ETC)
    client-fingerprint: chrome
    reality-opts:
      public-key: xK9P75YczqJDjXIaN2v4flLqJ25bXKdW98SdqK8TmHY
      short-id:     # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ—Ç—É, —Ç–æ –ø—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  # –ö–ª—é—á –¥–ª—è –ì–µ—Ä–º–∞–Ω–∏–∏
  - name: 'üá©üá™ Germany #1'
    type: vless
    server: de-proxy.example.com
    port: 443
    uuid: b2c3d4e5-f6g7-8901-bcde-f23456789012
    udp: true
    tls: true
    flow: xtls-rprx-vision
    servername: de-proxy.example.com   <----- –ó–î–ï–°–¨ –£–ö–ê–ó–ê–¢–¨ SNI (–°–ê–ô–¢ –ü–û–î –ö–û–¢–û–†–´–ô –ò–î–Å–¢ –ú–ê–°–ö–ò–†–û–í–ö–ê, –°–û–ì–õ–ê–°–ù–û –ù–ê–°–¢–†–û–ô–ö–ê–ú –í 3X-UI OR ETC)
    client-fingerprint: chrome
    reality-opts:
      public-key: mN8Q86ZdArKEkYJbO3w5gmMrK36cYLeX09TerL9UnIZ
      short-id:     # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ—Ç—É, —Ç–æ –ø—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

  # –ö–ª—é—á –¥–ª—è –†–æ—Å—Å–∏–∏
  - name: 'üá∑üá∫ Russia #1 (AD FREE)'
    type: vless
    server: ru-proxy.example.com
    port: 443
    uuid: c3d4e5f6-g7h8-9012-cdef-345678901234
    udp: true
    tls: true
    flow: xtls-rprx-vision
    servername: ru-proxy.example.com    <----- –ó–î–ï–°–¨ –£–ö–ê–ó–ê–¢–¨ SNI (–°–ê–ô–¢ –ü–û–î –ö–û–¢–û–†–´–ô –ò–î–Å–¢ –ú–ê–°–ö–ò–†–û–í–ö–ê, –°–û–ì–õ–ê–°–ù–û –ù–ê–°–¢–†–û–ô–ö–ê–ú –í 3X-UI OR ETC)
    client-fingerprint: chrome
    reality-opts:
      public-key: pQ9R97aeBsLFlZKcP4x6hnNsL47dZMfY10UfsM0VoJa
      short-id:     # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ—Ç—É, —Ç–æ –ø—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

# --- –°–ï–ö–¶–ò–Ø DNS ---
dns:
  enable: true
  listen: 0.0.0.0:7874
  ipv6: false
  cache-algorithm: arc
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  default-nameserver:
    - 1.1.1.1
    - 8.8.8.8
    - 208.67.222.222
    - 208.67.220.220
  nameserver:
    - https://dns10.quad9.net/dns-query
    - https://dns.aa.net.uk/dns-query
    - https://doh.opendns.com/dns-query
    - tls://dns.quad9.net
    - tls://1.1.1.1
    - tls://dns.opendns.com
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
    - '*.lan'
    - '*.local'
    - +.pool.ntp.org
    - +.msftconnecttest.com
    - +.3gppnetwork.org
    
# --- –ì–†–£–ü–ü–´ –ü–†–û–ö–°–ò (–ü–û–õ–ò–¢–ò–ö–ò) ---
proxy-groups:

  - name: 'Google'
    type: select
    proxies:
      - 'üá´üáÆ Finland #1'
      - 'üá©üá™ Germany #1'
      - 'üá∑üá∫ Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/475656/google-color.svg"

  - name: 'Microsoft'
    type: select
    proxies:
      - 'üá´üáÆ Finland #1'
      - 'üá©üá™ Germany #1'
      - 'üá∑üá∫ Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/452062/microsoft.svg"

  - name: 'GitHub'
    type: select
    proxies:
      - 'üá´üáÆ Finland #1'
      - 'üá©üá™ Germany #1'
      - 'üá∑üá∫ Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/344880/github.svg"

  - name: 'Telegram'
    type: select
    proxies:
      - 'üá´üáÆ Finland #1'
      - 'üá©üá™ Germany #1'
      - 'üá∑üá∫ Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/354443/telegram.svg"

  - name: '–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫'
    type: select
    proxies:
      - 'üá´üáÆ Finland #1'
      - 'üá©üá™ Germany #1'
      - 'üá∑üá∫ Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/508628/flag-ru.svg"

  - name: '–û—Å—Ç–∞–ª—å–Ω–æ–π —Ç—Ä–∞—Ñ–∏–∫'
    type: select
    exclude-filter: "(?i)Russia|RU"
    proxies:
      - 'üá´üáÆ Finland #1'
      - 'üá©üá™ Germany #1'
      - 'üá∑üá∫ Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/440486/earth.svg"

  - name: '–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º—ã'
    type: select
    proxies:
      - REJECT
      - DIRECT
      - 'üá´üáÆ Finland #1'
      - 'üá©üá™ Germany #1'
      - 'üá∑üá∫ Russia #1 (AD FREE)'
    icon: "https://www.svgrepo.com/show/305648/adblock.svg"

  - name: 'YouTube'
    type: select
    proxies:
      - 'üá´üáÆ Finland #1'
      - 'üá©üá™ Germany #1'
      - 'üá∑üá∫ Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/13671/youtube.svg"

  - name: 'Steam'
    type: select
    proxies:
      - 'üá´üáÆ Finland #1'
      - 'üá©üá™ Germany #1'
      - 'üá∑üá∫ Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/473800/steam.svg"

  - name: GLOBAL
    type: select
    hidden: true
    proxies:
      - 'YouTube'
      - 'Google'
      - 'Steam'
      - 'Microsoft'
      - 'GitHub'
      - 'Telegram'
      - '–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫'
      - '–û—Å—Ç–∞–ª—å–Ω–æ–π —Ç—Ä–∞—Ñ–∏–∫'
      - '–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º—ã'
      - DIRECT

# --- –ù–ê–°–¢–†–û–ô–ö–ò GEO-–î–ê–ù–ù–´–• ---
geox-url:
  geosite: "https://github.com/v2fly/domain-list-community/releases/latest/download/dlc.dat"
  geoip: "https://github.com/MetaCubeX/meta-rules-dat/releases/latest/download/geoip.dat"

# --- –ü–†–û–í–ê–ô–î–ï–†–´ –ü–†–ê–í–ò–õ ---
rule-providers:
  hagezi_pro:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/zxc-rv/ad-filter/releases/latest/download/adlist.mrs
    path: ./adblock/adlist.mrs
    interval: 86400


# --- –ü–†–ê–í–ò–õ–ê –ú–ê–†–®–†–£–¢–ò–ó–ê–¶–ò–ò ---
rules:
  # –ü–†–ê–í–ò–õ–û ‚Ññ0: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º—ã –∏ —Ç—Ä–µ–∫–µ—Ä–æ–≤
  - GEOSITE,category-ads-all,–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º—ã
  - RULE-SET,hagezi_pro,–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º—ã

  # –ü–†–ê–í–ò–õ–û ‚Ññ1: –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
  - GEOIP,private,DIRECT,no-resolve

  # –ü–†–ê–í–ò–õ–û ‚Ññ2: –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫
  - DOMAIN-SUFFIX,avito.ru,DIRECT    # –ê–≤–∏—Ç–æ –æ–±—ã—á–Ω–æ –Ω–µ –ø—É—Å–∫–∞–µ—Ç —Å –ø—Ä–æ–∫—Å–∏, –ø–æ —ç—Ç–æ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DIRECT
  - DOMAIN-SUFFIX,avito.st,DIRECT    # –ê–≤–∏—Ç–æ –æ–±—ã—á–Ω–æ –Ω–µ –ø—É—Å–∫–∞–µ—Ç —Å –ø—Ä–æ–∫—Å–∏, –ø–æ —ç—Ç–æ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DIRECT
  - GEOSITE,category-ru,–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫
  - DOMAIN-SUFFIX,ru,–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫
  - DOMAIN-SUFFIX,xn--p1ai,–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫
  - DOMAIN-SUFFIX,yandex-pogoda.static-storage.net,–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫
  - GEOSITE,category-gov-ru,–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫
  - GEOIP,RU,–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫,no-resolve

  # –ü–†–ê–í–ò–õ–û ‚Ññ3: –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
  - GEOSITE,steam,Steam
  - DOMAIN-SUFFIX,rutracker.org,–û—Å—Ç–∞–ª—å–Ω–æ–π —Ç—Ä–∞—Ñ–∏–∫
  - DOMAIN-SUFFIX,nnmclub.to,–û—Å—Ç–∞–ª—å–Ω–æ–π —Ç—Ä–∞—Ñ–∏–∫
  - GEOSITE,youtube,YouTube
  - GEOSITE,google,Google
  - GEOSITE,github,GitHub
  - GEOSITE,microsoft,Microsoft
  - GEOSITE,telegram,Telegram
  - GEOIP,telegram,Telegram
  - GEOSITE,alibaba,–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫
  - GEOSITE,MOZILLA,–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫
  - GEOSITE,XIAOMI,–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫
  - GEOSITE,CN,–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫

  # –ü–†–ê–í–ò–õ–û ‚Ññ4: –í–µ—Å—å –æ—Å—Ç–∞–ª—å–Ω–æ–π —Ç—Ä–∞—Ñ–∏–∫
  - MATCH,–û—Å—Ç–∞–ª—å–Ω–æ–π —Ç—Ä–∞—Ñ–∏–∫
